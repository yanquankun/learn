在前端和全栈开发中，我们常常需要在多个项目之间来回切换，而每个项目所依赖的 Node.js 版本可能并不相同。

为了解决这个问题，大部分人可能会选择 **nvm (Node Version Manager)** 来管理 Node.js 的版本。

但当团队规模扩大、开发环境多样化后，nvm 暴露出了一些不容忽视的问题。特别是在 **Windows + 多项目协作** 的场景下，痛点越来越明显：

## **nvm 的几个明显缺点**

### **Windows 支持不友好**

nvm 本身是基于 Unix 系统开发的，虽然 Windows 也有 nvm-windows 版本，但实际上兼容性并不好，安装、切换版本经常会出问题。

### **需要手动切换版本**

每次切换到不同项目时，需要自己运行 `nvm use 版本号` 来手动切换，忘了切换就容易出错，导致运行、构建失败。

### **无法项目级自动识别**

虽然 nvm 支持 `.nvmrc` 文件，但没有自动生效机制，必须开发者手动操作，不友好、不智能。

### **生态有限**

nvm 只管理 Node.js，不支持 npm、yarn、pnpm 等工具的版本管理，复杂项目环境下，工具链很容易混乱。

## **现代化的 Node.js 版本管理工具**

为了解决这些痛点，我开始使用 **Volta** —— 一个新一代的 JavaScript 工具链管理器。

### **为什么推荐 Volta？**

| 对比项         | nvm                      | Volta                              |
| :------------- | :----------------------- | :--------------------------------- |
| **跨平台**     | 不佳（Windows 兼容性差） | 完美支持 Windows / Mac / Linux     |
| **版本切换**   | 需要手动 `nvm use`       | 自动识别项目版本，无需手动切换     |
| **工具链支持** | 只支持 Node.js           | 同时支持 npm、yarn、pnpm           |
| **性能**       | 版本切换慢，命令执行慢   | 超快、即装即用                     |
| **项目级管理** | `.nvmrc` 手动生效        | `package.json` 自动绑定 Volta 配置 |
| **易用性**     | 繁琐、命令多且记不住     | 命令简单、几乎不用记               |

------

## **Volta 安装与使用教程**

### **1. 一键安装**

#### **Mac/Linux：**

```
curl https://get.volta.sh | bash
```

#### **Windows：**

直接下载官方安装包 👉 Volta Releases https://github.com/volta-cli/volta/releases

### **2. 常用命令速查**

| 功能           | 命令示例                       |
| :------------- | :----------------------------- |
| 安装 Node.js   | `volta install node@16.14.0`   |
| 卸载 Node.js   | `volta uninstall node@16.14.0` |
| 固定项目版本   | `volta pin node@18.20.4`       |
| 查看已安装版本 | `volta list`                   |
| 查找工具路径   | `volta which node`             |
| 自动补全       | `volta completions bash`       |

### **3. 实战：设置项目级 Node.js 版本**

进入项目根目录，执行：

```
volta pin node@18.20.4
```

Volta 会自动将配置写入 `package.json` 的 `volta` 字段：

```
"volta": {
  "node": "18.20.4"
}
```

从此以后，每次进入这个项目，不论是自己还是团队成员，`node` 命令都会自动使用这个版本，**无需手动切换**。

## **适合哪些人？**

- 前端开发者 / Node.js 工程师
- 同时开发多个 Node.js 项目
- 希望解决版本冲突，提高协作效率
- 想要一劳永逸告别 nvm 手动切换的痛苦

如果你现在还在使用 nvm，或者每次切换项目都需要查版本、改配置，不妨试试 Volta，真正做到只需一次配置。